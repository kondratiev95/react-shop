{"version":3,"sources":["components/Footer.jsx","components/Header.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Footer","className","class","Date","getFullYear","href","target","ref","Header","id","Preloader","GoodsItem","props","name","price","description","img","icon","addToBasket","Function","prototype","src","alt","onClick","style","fontSize","GoodsList","goods","length","map","good","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","el","item","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","process","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","newOrder","i","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1bf70e9.chunk.js","sourcesContent":["export default function Footer() {\r\n    return (\r\n        <footer className=\"page-footer purple lighten-3\">\r\n            <div class=\"footer-copyright\">\r\n                <div className=\"container\">\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a \r\n                        className=\"grey-text text-lighten-4 right\" \r\n                        href=\"https://github.com/kondratiev95/react-shop\"\r\n                        target=\"_blank\"\r\n                        ref=\"noreferrer\"\r\n                    >\r\n                        Repo\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n ","export default function Header() {\r\n    return(\r\n        <nav className=\"red purple lighten-3\">\r\n            <div className=\"nav-wrapper\">\r\n                <a href=\"/\" className=\"brand-logo\">React Shop</a>\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    <li><a href=\"https://github.com/kondratiev95/react-shop\" target=\"_blank\" ref=\"noreferrer\">Repo</a></li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n     \r\n}\r\n ","export default function Preloader() {\r\n    return (\r\n        <div className=\"progress\">\r\n            <div className=\"indeterminate\"></div>\r\n        </div>\r\n    )\r\n}","export default function GoodsItem(props) {\r\n    const { \r\n        id, \r\n        name, \r\n        description, \r\n        price, \r\n        icon:img,\r\n        addToBasket = Function.prototype\r\n    } = props;\r\n\r\n    return  (\r\n        <div className=\"card\">\r\n            <div className=\"card-image\">\r\n                {<img src={img} alt={name}/>}\r\n            </div>\r\n            <div className=\"card-content\">\r\n                <span className=\"card-title\">{name}</span>\r\n            </div>\r\n            <div className=\"card-action\">\r\n                <button className='btn' onClick={() => addToBasket({id, name, price})}>Купить</button>\r\n                <span className=\"right\" style={{fontSize: '17px'}}>{price}грн</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import GoodsItem from \"./GoodsItem\";\r\n\r\nexport default function GoodsList(props) {\r\n    const {goods = [], addToBasket = Function.prototype} = props;\r\n\r\n    if(!goods.length) {\r\n        return <h3>Nothing here</h3>\r\n    }\r\n\r\n    return (\r\n        <div className=\"goods\">\r\n            {goods.map(good => (\r\n                <GoodsItem key={good.id} {...good} addToBasket={addToBasket}/>\r\n            ))}\r\n        </div>\r\n    )\r\n}","export default function Cart(props) {\r\n\r\n    const {quantity = 0, handleBasketShow = Function.prototype} = props;\r\n\r\n    return (\r\n        <div \r\n            className=\"cart indigo lighten-2 white-text\" \r\n            onClick={handleBasketShow}\r\n        >\r\n            <i className=\"material-icons\">shopping_basket</i>\r\n            {quantity ? <span className=\"card-quantity\">{quantity}</span> : null}\r\n        </div>\r\n    )\r\n}","export default function BasketItem(props) {\r\n\r\n    const {\r\n        id, \r\n        name,\r\n        price,\r\n        quantity,\r\n        removeFromBasket = Function.prototype,\r\n        incQuantity = Function.prototype,\r\n        decQuantity = Function.prototype\r\n    } = props;\r\n\r\n    return (\r\n    \r\n        <li class=\"collection-item\">\r\n\r\n            {name} \r\n            <i className=\"material-icons basket-quantity\" onClick={() => incQuantity(id)}>add</i>\r\n            x{quantity}\r\n            <i className=\"material-icons basket-quantity\" onClick={() => decQuantity(id)}>remove</i>\r\n            = {price * quantity}\r\n\r\n\r\n            <span href=\"#!\" class=\"secondary-content\" onClick={() => removeFromBasket(id)}>\r\n                <i class=\"material-icons basket-delete\">\r\n                    close\r\n                </i>\r\n            </span>\r\n\r\n        </li>\r\n    )\r\n}","import BasketItem from \"./BasketItem\";\r\n\r\nexport default function BasketList(props) {\r\n    const {\r\n        order = [], \r\n        handleBasketShow = Function.prototype, \r\n        removeFromBasket = Function.prototype,\r\n        incQuantity = Function.prototype,\r\n        decQuantity = Function.prototype\r\n    } = props;\r\n\r\n    const totalPrice = order.reduce((sum, el) => {\r\n        return sum + el.price * el.quantity\r\n    }, 0) \r\n\r\n    return (\r\n        <ul class=\"collection basket-list\">\r\n\r\n            <li class=\"collection-item active\">Корзина</li>\r\n\r\n            {\r\n                order.length ? order.map(item => (\r\n                    <BasketItem \r\n                        key={item.id} \r\n                        {...item} \r\n                        removeFromBasket={removeFromBasket}\r\n                        incQuantity={incQuantity}\r\n                        decQuantity={decQuantity}\r\n                    />\r\n                )) : <li class=\"collection-item\">Корзина пуста</li>\r\n            }\r\n\r\n            <li class=\"collection-item active\">Общая стоимость: {totalPrice} грн.</li>\r\n            <i className=\"material-icons basket-close\" onClick={handleBasketShow}>close</i>\r\n            <button class=\"secondary-content btn btn-small left\">Оформить</button>\r\n            \r\n        </ul>\r\n    )\r\n}","import { useEffect } from \"react\";\r\n\r\n\r\nexport default function Alert(props) {\r\n    const { name = '', closeAlert = Function.prototype } = props;\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 3000);\r\n\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        }\r\n    },[name])\r\n\r\n    return (\r\n        <div id=\"toast-container\">\r\n            <div className=\"toast alert-block\">{name} добавлен в корзину.</div>\r\n        </div>\r\n    )\r\n}","import { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\n\r\nimport Preloader from './Preloader';\r\nimport GoodsList from './GoodsList';\r\nimport Cart from './Cart';\r\nimport BasketList from './BasketList';\r\nimport Alert from './Alert';\r\n\r\n\r\nexport default function Shop() {\r\n    const [goods, setGoods] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [order, setOrder] = useState([]);\r\n    const [isBasketShow, setBasketShow] = useState(false);\r\n    const [alertName, setAlertName] = useState('');\r\n\r\n    const addToBasket = item => {\r\n        const itemIndex = order.findIndex(orderItem => orderItem.id === item.id);\r\n        if(itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1\r\n            }\r\n            setOrder([...order, newItem])\r\n        } else {\r\n            const newOrder = order.map((orderItem, i) => {\r\n                if(i === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity + 1\r\n                    }\r\n                } else {\r\n                    return orderItem\r\n                }\r\n            })\r\n            setOrder(newOrder);\r\n        }\r\n        setAlertName(item.name);\r\n    }\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketShow(!isBasketShow);\r\n    }\r\n\r\n    const removeFromBasket = (id) => {\r\n        setOrder(order.filter(item => item.id !== id))\r\n    }\r\n\r\n    const incQuantity = id => {\r\n        const newOrder = order.map(el => {\r\n            if(el.id === id) {\r\n                const newQuantity = el.quantity + 1\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        })\r\n        setOrder(newOrder);\r\n    }\r\n\r\n    const decQuantity = id => {\r\n        const newOrder = order.map(el => {\r\n            if(el.id === id) {\r\n                const newQuantity = el.quantity - 1\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuantity >= 0 ? newQuantity : 0\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        })\r\n        setOrder(newOrder);\r\n    }\r\n\r\n    const closeAlert = () => {\r\n        setAlertName('');\r\n    }\r\n\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                'Authorization': API_KEY\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setGoods(data.featured)\r\n                setLoading(false)\r\n            })\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <main className=\"container content\">\r\n\r\n            <Cart quantity={order.length} handleBasketShow={handleBasketShow}/>\r\n\r\n            {\r\n                loading ? \r\n                    <Preloader/> :\r\n                        <GoodsList \r\n                            goods={goods} \r\n                            addToBasket={addToBasket}\r\n                        />\r\n            }\r\n            {\r\n                isBasketShow &&\r\n                    <BasketList \r\n                        order={order}\r\n                        handleBasketShow={handleBasketShow} \r\n                        removeFromBasket={removeFromBasket}\r\n                        incQuantity={incQuantity}\r\n                        decQuantity={decQuantity}\r\n                    />\r\n            }\r\n            {alertName && <Alert name={alertName} closeAlert={closeAlert}/>}\r\n        </main> \r\n    )\r\n}","const API_KEY = process.env.REACT_APP_API_KEY;\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\r\n\r\nexport { \r\n    API_KEY,\r\n    API_URL\r\n}","import Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport Shop from \"./components/Shop\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header/>\n      <Shop/>\n      <Footer/>\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App /> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}